# Парсер книг с сайта tululu.org

Скрипт parse_tululu_category.py позволяет скачать [книги категории научная фантастика](http://tululu.org/l55/) с сайта [tululu.org](http://tululu.org/).

При стандартном вызове работы скрипта в консоле, книги скачиваются постранично, начиная с 1 и по 701 страницу. 

По ходу скачивания вам в консоль будут выводиться ссылки на скаченные книги. 

По умолчанию скачивается текст и обложка произведения, которые размещаются в папки media/book и media/images. 

Также в папке media создается и помещается файл books_description.json, содержащий всю информацию о скаченных книгах (название, автор, путь до текста и т.д.) 

Для задания настроек скачивания, передайте дополнительные аргументы при вызове parse_tululu_category.py в командной строке. 

Подробнее смотрите в прилагающейся справке --help и разделе "Аргументы" текущего README.

```
python3 parse_tululu_category.py --help
```

### Как установить

Для запуска скрипта необходимо установить Python3 
Далее используйте `pip` (или `pip3`, если имеется конфликт с Python2) для установки всех необходимых пакетов:
```
pip install -r requirements.txt
```

### Аргументы

Для работы передачи аргументов в командной строке используется библиотека [argparse](https://docs.python.org/3.6/howto/argparse.html)
Ниже приведены возможные к передаче аргументы, примеры их использования, а также их влияние на работу скрипта:

'''--start_page''' - используйте аргумент, чтобы указать с какой страницы начать скачивание книг. К примеру указав '''--start_page 1''', скрипт начнет скачивание с [первой страницы](http://tululu.org/l55/1). Если не указывать этот аргумент, то по умолчанию скачивание начинается с первой страницы.
```
python3 parse_tululu_category.py --start_page
```

'''--end_page''' - аргумент работает по аналогии с '''--start_page''', только для указания последней страницы скачивания. К примеру указав '''--end_page 10''', скрипт будет скачивать по порядку все страницы начиная со '''--start_page''' завершит свою работу при скачивании [десятой страницы](http://tululu.org/l55/10)
```
python3 parse_tululu_category.py --end_page
```

'''--dest_folder''' - путь к каталогу с результатами парсинга: картинкам, книгами, JSON.
```
python3 parse_tululu_category.py --dest_folder
```

'''--skip_imgs''' - не скачивать картинки
```
python3 parse_tululu_category.py --skip_imgs
```

'''--skip_txt''' - не скачивать книги
```
python3 parse_tululu_category.py --skip_txt
```

'''--json_path''' - указать свой путь к books_description.json файлу с результатами
```
python3 parse_tululu_category.py --json_path
```

### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).
